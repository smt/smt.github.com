<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="Cache-Control" content="max-age=86400, must-revalidate" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Stephen Tudor">
        <title>Three Things I've Learned With Haskell | Stephen Tudor</title>
        <style id="critical">*{margin:0;padding:0}li{margin-left:5%}.clear{clear:both;font-size:1px;height:1px;line-height:1px}a img{border:none}.title,h1,h2{font-weight:400}.links a{font-size:2em;line-height:45px}.toplink{color:#313131;margin-right:15px;text-decoration:none}.textwidget a.underline{text-decoration:underline}.title{color:#333;font-size:2em;margin-top:1.3em}body{align:center;color:#444;font-family:"Lucida Grande","Lucida Sans Unicode","Lucida Sans",Verdana,Arial,sans-serif;font-size:.9375em}.inside{margin:0 auto;max-width:72em;width:86%}h1,h2{margin:1.5em 0 0}h1{color:#CCC;font-size:1.8em}h2{color:#FFF;font-size:1.6em}p{font-size:1.1em;line-height:1.75em}#primary{padding:1px 0 2em;word-break:break-word}#header .inside{padding-bottom:1em;padding-top:1em}#header h2{float:left;font-size:2.25em;margin:0 .5em 0 0;padding:0 .2em .25em 0}#header #me+.links{clear:left}#ancillary{padding:2em 0 0}#ancillary .textwidget,small{font-size:.9em}#ancillary .block h2{font-size:1.3em;margin:0 0 2em}.widget ul{border-top:1px solid #C0E0E2;list-style-type:none;margin:1.5em 0 2em}.widget ul li{border-bottom:1px solid #C0E0E2;list-style-type:none;margin:0;padding:.5em 0}.links,.widget ul a{color:#404040;font-size:1.03em;text-decoration:none}.top-search-icon{opacity:.4}#ancillary,body{background:#E5F6F7}a,.story .details a,.story .details a:hover{color:#222}h1,h2,p,ul{margin:1em0}#header.links{float:left}#header.top-search-icon{float:right}.feed{font-size:1.2em}#headerh2a{text-decoration:none}a{color:#FFF}#header#mea{display:block}h1,h2{color:#222}#header,#primary{background:#FFF}</style>
        <style id="icons">@font-face{font-family:icomoon;src:url(/fonts/icomoon.eot?klzpen);src:url(/fonts/icomoon.eot?#iefixklzpen) format('embedded-opentype'),url(/fonts/icomoon.ttf?klzpen) format('truetype'),url(/fonts/icomoon.woff?klzpen) format('woff'),url(/fonts/icomoon.svg?klzpen#icomoon) format('svg');font-weight:400;font-style:normal}[class^=icon-]{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:icomoon;font-style:normal;font-variant:normal;font-weight:400;line-height:1;speak:none;text-transform:none}.icon-search:before{content:"\e604"}.icon-mail:before{content:"\e600"}.icon-twitter:before{content:"\e601"}.icon-feed:before{content:"\e605"}.icon-github:before{content:"\e602"}.icon-linkedin:before{content:"\e603"}</style>
        <noscript id="deferred-styles">
            <link rel="stylesheet" type="text/css" href="/css/main.css">
            <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/github.min.css">
        </noscript>
        <script>
            var loadDeferredStyles = function() {
                var addStylesNode = document.getElementById("deferred-styles");
                var replacement = document.createElement("div");
                replacement.innerHTML = addStylesNode.textContent;
                document.body.appendChild(replacement)
                addStylesNode.parentElement.removeChild(addStylesNode);
            };
            var raf = requestAnimationFrame || mozRequestAnimationFrame ||
                webkitRequestAnimationFrame || msRequestAnimationFrame;
            if (raf) raf(function() { window.setTimeout(loadDeferredStyles, 0); });
            else window.addEventListener('load', loadDeferredStyles);
        </script>
        <link rel="alternate" type="application/rss+xml" href="/rss.xml" />
        <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">
    </head>
    <body>
        <div id="header">
            <div class="inside nocontent">
                <div id="me"><h2><a href="/" title="Stephen Tudor"><img src="/images/smt.io-logo-black-121x55.png" alt="smt.io" /></a></h2></div>
                <div class="links">
                    <a id="email" class="toplink" target="_blank"><span class="icon-mail"></span></a>
                    <a href="http://www.linkedin.com/in/smtudor" class="toplink" target="_blank"><span class="icon-linkedin"></span></a>
                    <a href="http://github.com/smt/" class="toplink" target="_blank"><span class="icon-github"></span></a>
                    <a href="http://twitter.com/tagsoup" class="toplink" target="_blank"><span class="icon-twitter"></span></a>
                </div>
                <div class="links top-search-icon">
                    <a href="/search.html" class="toplink"><span class="icon-search"></span></a>
                </div>
                <div class="clear"></div>
            </div>
        </div>

        <div id="primary">
    <div class="inside">
        <h1 class="title">Three Things I've Learned With Haskell</h1>
        <div class="opacity08"><small>
                <i>May 23, 2016 / <a href="/label/haskell/">Haskell</a>, <a href="/label/mad-coding/">Mad Coding</a></i>
        </small></div>
        <br>
        <p>This is the first of a series of posts. We’ll see how it goes if I try to keep each one limited to “three things.” That seems a nice, manageable number.</p>
<p>While picking my way through <a href="http://haskellbook.com">Haskell Programming from First Principles</a> (hereafter referred to as <abbr title="Haskell Programming from First Principles">HPFP</abbr>), I’ve come across a number of interesting syntactic concepts that I haven’t seen much of (or at all) in my prior programming experience until recently.</p>
<p><em>Note: I’ve been a front-end developer primarily focused on JavaScript and other dynamic languages for most of my professional life, while these things are new to <strong>me</strong>, I’m fully aware that they may not be new for <strong>you</strong>. As always, I welcome any constructive feedback.</em></p>
<h2 id="lambdas">Lambdas</h2>
<p>Being a functional language, Haskell features anonymous functions (or <em>lambdas</em>) rather prominently. It was exciting to learn that parts of the Haskell language are merely syntactic sugar around these lambdas. <abbr title="Haskell Programming from First Principles">HPFP</abbr> has a whole chapter dedicated solely to the lambda calculus, which underpins many major concepts of Haskell’s design.</p>
<p>In JavaScript, a lambda looks like this:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">function</span> (x) <span class="op">{</span> <span class="cf">return</span> <span class="st">&quot;yeah &quot;</span> <span class="op">+</span> x <span class="op">+</span> <span class="st">&quot;!&quot;</span><span class="op">;</span> <span class="op">}</span></code></pre></div>
<p>If you’re one of those people who likes their ES2015 arrow functions, you might be more at home with this:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript">x <span class="op">=&gt;</span> <span class="st">&quot;yeah &quot;</span> <span class="op">+</span> x <span class="op">+</span> <span class="st">&quot;!&quot;</span></code></pre></div>
<p>In the following example of a Haskell lambda, you can see how the design of the ES2015 lambda might have drawn inspiration:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">\x <span class="ot">-&gt;</span> <span class="st">&quot;yeah &quot;</span> <span class="fu">++</span> x <span class="fu">++</span> <span class="st">&quot;!&quot;</span></code></pre></div>
<p>It’s a small thing, but one of my favorite things about using Haskell lambdas is how my editor is configured to treat them. In a lambda, the \ is replaced by a λ: a lambda character! It helps me when I see that instead of a backslash:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">λx <span class="ot">-&gt;</span> <span class="st">&quot;yeah &quot;</span> <span class="fu">++</span> x <span class="fu">++</span> <span class="st">&quot;!&quot;</span></code></pre></div>
<h2 id="pattern-matching">Pattern Matching</h2>
<p>My exposure to <em>pattern matching</em> is totally backwards, because the first time I saw it was in some <a href="http://elixir-lang.org">Elixir</a> code. However, the Elixir examples I’ve seen tend to use pattern matching with destructuring variable binding:</p>
<pre class="elixir"><code>{x, y} = {1, 2}  # {1, 2}
x  # 1
y  # 2

[h | _] = [1, 2, 3]  # [1, 2, 3]
h  # 1</code></pre>
<p>I haven’t gotten far enough with my Haskell learning to know how it treats destructuring assignment (I’m fairly sure my brain will melt when I get to that point). For conventional assignment, it’s pretty great to be able to express functions in this clear a way:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">isItTen ::</span> <span class="dt">Integer</span> <span class="ot">-&gt;</span> <span class="dt">Bool</span>
isItTen <span class="dv">10</span> <span class="fu">=</span> <span class="dt">True</span>
isItTen _  <span class="fu">=</span> <span class="dt">False</span></code></pre></div>
<p>As with some other languages like Go and Elixir, <code>_</code> acts like a catch-all bitbucket for unneeded values. It’s interesting to me that the patterns are matched against values rather than types. Pattern matching can help prevent some needlessly verbose logic in the function body.</p>
<h2 id="guards">Guards</h2>
<p>Every language has its own concept of control flow. In JavaScript and other languages in the C family, most of the burden falls on <code>if</code>/<code>else</code> statements, and occasionally a <code>switch</code>/<code>case</code>.</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">function</span> <span class="at">goodRange</span>(temp) <span class="op">{</span>
  <span class="kw">var</span> out<span class="op">;</span>
  <span class="cf">switch</span> (temp) <span class="op">{</span>
  <span class="cf">case</span> temp <span class="op">&lt;</span> <span class="dv">64</span><span class="op">:</span>
    out <span class="op">=</span> <span class="st">&quot;too low&quot;</span><span class="op">;</span>
    <span class="cf">break</span><span class="op">;</span>
  <span class="cf">case</span> temp <span class="op">&gt;</span> <span class="dv">78</span><span class="op">:</span>
    out <span class="op">=</span> <span class="st">&quot;too high&quot;</span><span class="op">;</span>
    <span class="cf">break</span><span class="op">;</span>
  <span class="dt">default</span><span class="op">:</span>
    out <span class="op">=</span> <span class="st">&quot;just right&quot;</span><span class="op">;</span>
    <span class="cf">break</span><span class="op">;</span>
  <span class="op">}</span>
  <span class="cf">return</span> out<span class="op">;</span>
<span class="op">}</span></code></pre></div>
<p>Haskell also has an <code>if-then-else</code> pattern that you can use, but it only supports two possible outcomes. When writing a function definition, especially one with more than two possible outcomes, <em>guard</em> syntax can come in handy. It resembles pattern matching.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">goodRange ::</span> <span class="dt">Integer</span> <span class="ot">-&gt;</span> <span class="dt">String</span>
goodRange x
  <span class="fu">|</span> x <span class="fu">&lt;</span> <span class="dv">64</span>    <span class="fu">=</span> <span class="st">&quot;too low&quot;</span>
  <span class="fu">|</span> x <span class="fu">&gt;</span> <span class="dv">78</span>    <span class="fu">=</span> <span class="st">&quot;too high&quot;</span>
  <span class="fu">|</span> otherwise <span class="fu">=</span> <span class="st">&quot;just right&quot;</span></code></pre></div>
<p>The <code>goodRange</code> function is expressive and clear: for an Integer <code>x</code>, return a string depending on where <code>x</code> falls within a predetermined range.</p>
<p>Here’s another example, taken right out of the <abbr title="Haskell Programming from First Principles">HPFP</abbr> book because it’s so great:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">avgGrade ::</span> (<span class="dt">Fractional</span> a, <span class="dt">Ord</span> a) <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Char</span>
avgGrade x
  <span class="fu">|</span> y <span class="fu">&gt;=</span> <span class="fl">0.9</span>  <span class="fu">=</span> <span class="ch">'A'</span>
  <span class="fu">|</span> y <span class="fu">&gt;=</span> <span class="fl">0.8</span>  <span class="fu">=</span> <span class="ch">'B'</span>
  <span class="fu">|</span> y <span class="fu">&gt;=</span> <span class="fl">0.7</span>  <span class="fu">=</span> <span class="ch">'C'</span>
  <span class="fu">|</span> y <span class="fu">&gt;=</span> <span class="fl">0.59</span> <span class="fu">=</span> <span class="ch">'D'</span>
  <span class="fu">|</span> y <span class="fu">&lt;</span> <span class="fl">0.59</span>  <span class="fu">=</span> <span class="ch">'F'</span>
  <span class="kw">where</span> y <span class="fu">=</span> x <span class="fu">/</span> <span class="dv">100</span></code></pre></div>
<p>For a given <code>x</code> that implements <code>Fractional</code> and <code>Ord</code> typeclasses (think of them like interfaces or mixins that provide access to certain functions), divide <code>x</code> by 100 (scoped to the variable <code>y</code> in the <code>where</code> clause) and return a “grade” character based on several ranks of comparison… ranks that most of us have come to either love or despise.</p>
    </div>
</div>

<hr class="hide">

<div id="secondary">
    <div class="inside">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            // /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            // var disqus_shortname = 'stephentudor'; // required: replace example with your forum shortname

            // /* * * DON'T EDIT BELOW THIS LINE * * */
            // (function() {
            //     var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            //     dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            //     (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            // })();
        </script>
        <!-- <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> -->
    </div>
</div>
<hr class="hide">


        <div id="ancillary">
            <div class="inside nocontent">
                <div class="block first">
                    <div class="widget">
                        <h2>Pages</h2>
                        <div class="menu-pages-container">
                            <ul id="menu-pages" class="menu">
                                <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/about/">About Me</a></li>
                                <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/blog/page/1/">Writing</a></li>
                                <!-- <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/past-personal-projects/">Past Personal Projects</a></li> -->
                            </ul>
                        </div>
                    </div>

                    <div class="widget">
                        <div class="textwidget">
                            <small>
                                This site is written in Haskell &amp; powered by <a href="http://jaspervdj.be/hakyll/" class="links underline">Hakyll</a>.
                                See <a href="https://github.com/smt/hakyll-blog/blob/master/site.hs" class="links underline">github</a> for source code.
                            </small>
                        </div>
                    </div>

                    <div class="widget">
                        <br>
                        <a href="/rss.xml" class="toplink feed" target="_blank"><span class="icon-feed"></span></a>
                    </div>
                </div>

                <div class="block second">
                    <div class="widget">
                        <h2>Recent Posts</h2>
                        <ul>
                            <li><a href="/2016/08/09/vim-cheat-sheet-dvorak/" title="Vim Cheat Sheet for Programmers: Dvorak Edition">Vim Cheat Sheet for Programmers: Dvorak Edition</a></li>
<li><a href="/2016/05/23/three-things-i-learned-with-haskell/" title="Three Things I've Learned With Haskell">Three Things I've Learned With Haskell</a></li>
<li><a href="/2016/05/02/putting-aside-the-ranger/" title="Putting Aside the Ranger">Putting Aside the Ranger</a></li>
<li><a href="/2016/04/24/intervening-years/" title="The Intervening Years">The Intervening Years</a></li>
<li><a href="/2014/02/11/gulp-browserify/" title="Gulp and Browserify">Gulp and Browserify</a></li>
<li><a href="/2012/12/19/emergent-task-planner/" title="Emergent Task Planner">Emergent Task Planner</a></li>
<li><a href="/2012/12/17/year-in-review/" title="2012: Year In Review">2012: Year In Review</a></li>
<li><a href="/2012/10/07/developers-are-artists/" title="Developers Are Artists">Developers Are Artists</a></li>
<li><a href="/2012/01/10/kss-middleman/" title="KSS and Middleman">KSS and Middleman</a></li>
<li><a href="/2011/08/04/10-vim-techniques-for-novices/" title="10 Vim Techniques for Novices">10 Vim Techniques for Novices</a></li>

                        </ul>
                    </div>
                    <div class="widget">
                        <div class="textwidget">
                            <a href="/blog/page/2/" class="readmore">more...</a>
                        </div>
                    </div>
                </div>

                <div class="block third">
                    <div class="widget">
                        <h2>Labels</h2>
                        <ul>
                            <!-- <li class="cat-item"><a href="/label/board-games/" title="View all posts filed under Board Games">Board Games</a></li> -->
                            <li class="cat-item"><a href="/label/css/" title="View all posts filed under CSS">CSS</a></li>
                            <!-- <li class="cat-item"><a href="/label/guitar/" title="View all posts filed under Guitar">Guitar</a></li> -->
                            <li class="cat-item"><a href="/label/javascript/" title="View all posts filed under JavaScript">JavaScript</a></li>
                            <!-- <li class="cat-item"><a href="/label/linux-unix/" title="View all posts filed under Linux/Unix">Linux/Unix</a></li> -->
                            <li class="cat-item"><a href="/label/mad-coding/" title="View all posts filed under Mad Coding">Mad Coding</a></li>
                            <li class="cat-item"><a href="/label/miscellaneous/" title="View all posts filed under Miscellaneous">Miscellaneous</a></li>
                            <li class="cat-item"><a href="/label/productivity/" title="View all posts filed under Productivity">Productivity</a></li>
                            <!-- <li class="cat-item"><a href="/label/security/" title="View all posts filed under Security">Security</a></li> -->
                            <li class="cat-item"><a href="/label/vim/" title="View all posts filed under Vim">Vim</a></li>
                        </ul>
                    </div>
                </div>

                <div class="clear"></div>
            </div>
        </div>
        <hr class="hide">
        <br class="clear">

        <script src="/js/highlight.js/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script src="/js/main.js" async></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-76836369-1', 'auto');
            ga('send', 'pageview');
        </script>
    </body>
</html>
